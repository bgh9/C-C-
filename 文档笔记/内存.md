# 内存
## 内存的分配方式
**1.从静态存储区分配**：此时的内存在程序编译的时候已经分配好，并且在程序的整个运行期间都存在。全局变量，static变量等在此存储。</br>
**2.在栈区分配**：相关代码执行时创建，执行结束时被自动释放。局部变量在此存储。栈内存分配运算内置于处理器的指令集中，效率高，但容量有限。</br>
**3.在堆区分配**：动态分配内存。用new/malloc时开辟，delete/free时释放。生存期由用户指定，灵活。但有内存泄露等问题。</br>
## 常见内存错误及对策
**1.内存分配未成功，却被使用。**</br>
对策：使用内存之前检查是否分配成功。用p!=NULL判断。</br>
**2.内存分配成功，未初始化就被使用。**</br>
内存的缺省值没有统一的标准。大部分编译器以0作为初始值，但不完全是。
对策：内存初始化时赋初值。</br>
**3.内存操作越界。**</br>
对策：只能是小心了。</br>
**4.释放了内存，仍然使用。**</br>
（1） 使用显示delete和free的野指针。
对策：释放完内存，将指针置为NULL。</br>
（2） 使用隐式delete和free的野指针。主要是指函数返回指向栈内存的指针或引用。</br>
对策：当然是不要返回就可以了。</br>
**5.未释放内存，导致内存泄露。**</br>
用new/malloc开辟了内存，没用delete/free释放。</br>
对策：new和delete的个数一定相同；malloc和free的个数一定相同；new[]和[]delete一定对应。</br>
